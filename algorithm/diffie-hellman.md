# 디피-헬만 키 교환

메세지를 받은 사람만 읽을 수 있도록 하려면 메시지를 어떻게 암호화해야할까?
가장 쉬운 방법은 a=1, b=2와 같은 방식으로 암호 해독 규칙을 사용하는 것이다.
이 경우에는 두 사람이 같은 암호 해독 규칙을 가져야 한다.

이 경우에는 단점이 있다.
암호 해독 규칙을 이메일로 보낼 수 없다는 것이다.
이메일이 해킹 당해서 암호 해독 규칙을 가져가면 암호를 풀 수 있으니까 말이다.
직접 만나서 전달한다고 하더라도 암호 해독 규칙이 간단하면 누군가 추측할 수 있다.
그래서 매일 암호 해독 규칙을 바꾸려면 매일 직접 만나는 수 밖에 없다.

아래와 같이 간단한 암호의 경우에는 누군가 해독하여 암호를 깰 수도 있다.
a=1, b=2...로 추측한다면?

| 9 | 6 | 13 | 13 | 16 | 24 | 16 | 19 | 13 | 5 |
|---|---|----|----|----|----|----|----|----|---|
| i | f | m  | m  | p  | x  | p  | s  | m  | e |

맞지 않다.
a=2, b=3...로 추측한다면?
| 9 | 6 | 13 | 13 | 16 | 24 | 16 | 19 | 13 | 5 |
|---|---|----|----|----|----|----|----|----|---|
| h | e | l  | l  | o  | w  | o  | r  | l  | d |

이번에는 맞췄다.
세계 2차 대전 당시, 독일은 아주 복잡한 암호 해독 규칙을 세웠지만 깨졌다.
디피-헬만 알고리즘을 사용하면 다음과 같은 두가지 문제를 해결할 수 있다.

* 양쪽 모두 암호 해독 규칙을 가질 필요가 없어야 한다. 그러면 만나서 암호 해독 규칙을 공유할 필요도 없다.
* 암호화된 메시지는 해독하기 어려워야 한다.

디피-헬만 알고리즘은 두 개의 키를 가진다.
하나는 공개 키(public key)이고, 하나는 개인 키(private key)이다.
`공개 키`는 말 그대로 공개된다.
웹 사이트에 공개할 수도 있고, 다른 사람에게 이메일로 보낼 수도 있다.
누군가에게 암호화해서 메세지를 보낼 때 공개 키를 써서 암호화 할 수도 있다.

암호화된 메시지를 해독하기 위해선 `개인 키`가 있어야 한다.
개인 키를 나만 가지고 있다면 나만 메시지를 해독할 수 있다.