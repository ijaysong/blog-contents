# 의존관계 주입
의존관계 주입(Dependency Injection)이란, 의존성 주입이라고도 한다.
의존(종속) 오브젝트 주입이라고도 하는데, 영문 약자를 써서 DI라고 한다.

엄말히 말해 오브젝트는 다른 오브젝트에 주입할 수 있는 것이 아니지만. 
DI는 오브젝트 레퍼런스를 오부로부터 제공 받고 이를 통해 여타 오브젝트오 다이내믹하게 의존관계가 만들어지는 것이 핵심이다.

## 런타임 의존관계 설정
### 의존관계
두 개의 클래스 또는 모듈이 의존관계에 있다고 말할 때는 항상 `방향성`을 부여해줘야 한다.
즉, 누가 누구에게 의존하는 관계에 있다는 식이어야 한다.

의존하고 있다는 건 무슨 의미일까?
의존한다는 건 의존대상, B가 변하면 A에 영향을 미친다는 뜻이다.
(B의 기능이 추가되거나 변경되거나, 형식이 바뀌거나 하면 그 영향이 A로 전달된다는 것이다.)

ex) A에서 B에 정의된 메소드를 호출해서 사용하는 경우
(B에 새로운 메소드가 추가되거나 기존 메소드의 형식이 바뀌면 A도 그에 따라 수정되거나 추가되어야 할 것이다.) 

다시 말하지만, 의존관계에는 `방향성`이 있다.
A가 B에 의존하고 있지만, 반대로 B는 A에 의존하지 않는다.
의존하지 않는다는 말은 B는 A의 변화에 영향을 받지 않는다는 뜻이다.

ex)
UserDao는 ConnectionMaker 인터페이스에만 의조나고 있다.
따라서 ConnectionMaker 인터페이스가 변한다면 그 영향을 UserDao가 직접적으로 받게 된다.
하지만 ConnectionMaker 인터페이스를 구현한 클래스, 즉 DConnectionMaker 등이 다른 것으로 바뀌거나 그 내부에서 사용하는 메소드에 변화가 생겨도 UserDao에 영향을 주지 않는다.
(이렇게 인터페이스에 대해서만 의존관계를 만들어두면 인터페이스 구현 클래스와의 관계는 느슨해지면서 변화에 영향을 덜 받는 상태가 된다.)

오브젝트가 만들어지고 나서 런타임 시에 의존관계를 맺는 대상, 즉 실제 사용대상인 오브젝트를 `의존 오브젝트`라고 한다.

의존관계 주입이란 다음과 같은 세가지 조건을 충족하는 작업을 말한다.
* 클래스 모델이나 코드에는 런타임 시점의 의존관계가 들어나지 않는다. 그러기 위해서 인터페이스에만 의존하고 있어야 한다.
* 런타임 시점의 의존관계는 컨테이너나 팩토리 같은 제3의 존재가 결정한다.
* 의존관계는 사용할 오브젝트에 대한 레퍼런스를 외부에서 제공(주입)해줌으로서 만들어진다.

